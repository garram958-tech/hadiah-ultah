<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HBD Sayang ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root { --pink: #ff4d6d; --bg: #fff0f3; }
        body { font-family: 'Quicksand', sans-serif; background: var(--bg); margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; overflow: hidden; }
        .card { background: white; padding: 20px; border-radius: 25px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 80%; max-width: 320px; text-align: center; z-index: 10; }
        .hidden { display: none !important; }
        .btn { background: var(--pink); color: white; border: none; padding: 12px; border-radius: 12px; width: 100%; cursor: pointer; font-weight: bold; margin-top: 10px; }
        .img-s { width: 100%; height: 220px; object-fit: cover; border-radius: 15px; border: 2px solid var(--pink); margin-bottom: 10px; }
        #scr-box { position: relative; width: 200px; height: 200px; margin: 0 auto; }
        canvas { position: absolute; top: 0; left: 0; z-index: 2; border-radius: 10px; touch-action: none; }
        .scr-u { width: 200px; height: 200px; object-fit: cover; border-radius: 10px; position: absolute; top:0; left:0; z-index: 1; }
    </style>
</head>
<body>

<div id="start-overlay" style="position:fixed; top:0; left:0; width:100%; height:100%; background:var(--bg); z-index:100; display:flex; flex-direction:column; justify-content:center; align-items:center;">
    <h2 style="font-family:'Pacifico'; color:var(--pink);">Hai Cantik! ‚ù§Ô∏è</h2>
    <button class="btn" style="width:200px;" onclick="mulai()">KLIK UNTUK MULAI ‚ú®</button>
    <p style="font-size: 12px; margin-top: 10px;">(Pastikan volume HP aktif ya!)</p>
</div>

<audio id="lagu" loop>
    <source src="https://feeldreams.github.io/audio/happybirthday.mp3" type="audio/mpeg">
</audio>

<div id="konten" class="hidden">
    <div id="p1" class="card">
        <h2 style="font-family:'Pacifico'; color:var(--pink);">Love Lock</h2>
        <p>Masukkan PIN (1302)</p>
        <div id="pin-d" style="font-size: 24px; color: var(--pink); font-weight: bold; margin: 10px;">____</div>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;">
            <script>for(let i=1;i<=9;i++) document.write(`<button class="btn" onclick="tekan('${i}')">${i}</button>`);</script>
            <button class="btn" onclick="tekan('0')">0</button>
        </div>
    </div>

    <div id="p2" class="card hidden">
        <div style="font-size: 60px;">üéÇ</div>
        <h2>Make a Wish</h2>
        <button class="btn" onclick="next(2,3)">Buka Foto ‚ú®</button>
    </div>

    <div id="p3" class="card hidden"><img src="https://i.pinimg.com/1200x/39/68/af/3968afa2fdac6a33c06e1c131a988b5d.jpg" class="img-s"><h3>Awal Kita ‚ù§Ô∏è</h3><button class="btn" onclick="next(3,4)">Next</button></div>
    <div id="p4" class="card hidden"><img src="https://i.pinimg.com/736x/95/ba/d2/95bad23c53675709958d759b72dbcdc7.jpg" class="img-s"><h3>Bahagiaku ‚ù§Ô∏è</h3><button class="btn" onclick="next(4,5)">Next</button></div>
    <div id="p5" class="card hidden"><img src="https://i.pinimg.com/736x/70/10/7c/70107c85dead90b26c35d148fbc4b8f4.jpg" class="img-s"><h3>Selamanya ‚ù§Ô∏è</h3><button class="btn" onclick="next(5,6)">Gosok Ini ‚ú®</button></div>

    <div id="p6" class="card hidden">
        <h3>Siapa Ini? ‚ú®</h3>
        <div id="scr-box">
            <img src="https://i.pinimg.com/736x/c7/70/a8/c770a813c9935a52ae39704721e2c5e4.jpg" class="scr-u">
            <canvas id="cvs" width="200" height="200"></canvas>
        </div>
        <button id="btn-f" class="hidden btn" onclick="next(6,7)">Slide Terakhir</button>
    </div>

    <div id="p7" class="card hidden"><img src="https://i.pinimg.com/736x/28/90/da/2890da0f33efa842765aa34b43c29way.jpg" class="img-s"><h2>HBD Sayang! ‚ù§Ô∏è</h2><p>I Love You!</p></div>
</div>

<script>
    const audio = document.getElementById('lagu');
    function mulai() {
        document.getElementById('start-overlay').style.display = 'none';
        document.getElementById('konten').classList.remove('hidden');
        audio.play().catch(() => {
            // Jika gagal, coba lagi saat klik apapun
            document.addEventListener('click', () => audio.play(), {once: true});
        });
    }

    let p = "";
    function tekan(n) { if(p.length<4) p+=n; up(); if(p==="1302") next(1,2); else if(p.length===4) p=""; }
    function up() { document.getElementById('pin-d').innerText = "*".repeat(p.length) + "_".repeat(4-p.length); }
    function next(o,n) { document.getElementById('p'+o).classList.add('hidden'); document.getElementById('p'+n).classList.remove('hidden'); if(n===6) gosok(); }

    function gosok() {
        const cvs = document.getElementById('cvs'); const ctx = cvs.getContext('2d');
        ctx.fillStyle = '#ccc'; ctx.fillRect(0,0,200,200); ctx.globalCompositeOperation = 'destination-out';
        const draw = (e) => {
            const r = cvs.getBoundingClientRect();
            const x = (e.touches ? e.touches[0].clientX : e.clientX) - r.left;
            const y = (e.touches ? e.touches[0].clientY : e.clientY) - r.top;
            ctx.beginPath(); ctx.arc(x,y,25,0,Math.PI*2); ctx.fill();
            document.getElementById('btn-f').classList.remove('hidden');
        };
        cvs.addEventListener('mousemove', draw); cvs.addEventListener('touchmove', draw);
    }
</script>
</body>
</html>
